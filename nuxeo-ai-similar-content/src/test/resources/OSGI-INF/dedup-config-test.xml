<?xml version="1.0"?>
<component name="org.nuxeo.ai.similar.content.services.test" version="1.0">

  <extension target="org.nuxeo.ai.similar.content.services.SimilarServiceComponent" point="configuration">
    <deduplication
        name="test"
        query="SELECT * FROM Document WHERE ecm:mixinType = 'Picture' AND ecm:tag NOT IN ('not_duplicate')">
      <xpath>file:content</xpath>
    </deduplication>
  </extension>

  <extension target="org.nuxeo.ai.similar.content.services.SimilarServiceComponent" point="filter">
    <filter id="testType">
      <rule grant="true">
        <type>File</type>
      </rule>
    </filter>

    <filter id="testNegateType">
      <rule grant="false">
        <type>File</type>
      </rule>
    </filter>

    <filter id="testSchema">
      <rule grant="true">
        <schema>file</schema>
      </rule>
    </filter>

    <filter id="testNegateSchema">
      <rule grant="false">
        <schema>file</schema>
      </rule>
    </filter>
  </extension>

</component>
